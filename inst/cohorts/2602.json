{
  "ConceptSets": [
    {
      "id": 0,
      "name": "Type 2 Diabetes Mellitus",
      "expression": {
        "items": [
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "73211009",
              "CONCEPT_ID": 201820,
              "CONCEPT_NAME": "Diabetes mellitus",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "74627003",
              "CONCEPT_ID": 442793,
              "CONCEPT_NAME": "Complication due to diabetes mellitus",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "268519009",
              "CONCEPT_ID": 443238,
              "CONCEPT_NAME": "Diabetic - poor control",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "46635009",
              "CONCEPT_ID": 201254,
              "CONCEPT_NAME": "Type 1 diabetes mellitus",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "isExcluded": true,
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "199223000",
              "CONCEPT_ID": 4058243,
              "CONCEPT_NAME": "Diabetes mellitus during pregnancy, childbirth and the puerperium",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "isExcluded": true,
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "420868002",
              "CONCEPT_ID": 435216,
              "CONCEPT_NAME": "Disorder due to type 1 diabetes mellitus",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "isExcluded": true,
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Finding",
              "CONCEPT_CODE": "444073006",
              "CONCEPT_ID": 40484648,
              "CONCEPT_NAME": "Type 1 diabetes mellitus uncontrolled",
              "DOMAIN_ID": "Condition",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "isExcluded": true,
            "includeDescendants": true
          }
        ]
      }
    },
    {
      "id": 1,
      "name": "History of diabetes",
      "expression": {
        "items": [
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Clinical Observation",
              "CONCEPT_CODE": "66678-4",
              "CONCEPT_ID": 40769338,
              "CONCEPT_NAME": "History of Diabetes (regardless of treatment) [PhenX]",
              "DOMAIN_ID": "Observation",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Context-dependent",
              "CONCEPT_CODE": "472969004",
              "CONCEPT_ID": 43021173,
              "CONCEPT_NAME": "History of diabetes mellitus type 2",
              "DOMAIN_ID": "Observation",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Context-dependent",
              "CONCEPT_CODE": "735199000",
              "CONCEPT_ID": 42539022,
              "CONCEPT_NAME": "History of diabetes related lower limb amputation",
              "DOMAIN_ID": "Observation",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Context-dependent",
              "CONCEPT_CODE": "59801000119102",
              "CONCEPT_ID": 46270562,
              "CONCEPT_NAME": "History of small vessel disease due to diabetes mellitus",
              "DOMAIN_ID": "Observation",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            },
            "includeDescendants": true
          }
        ]
      }
    },
    {
      "id": 2,
      "name": "Drugs to treat Type 2 Diabetes Mellitus excluding insulin",
      "expression": {
        "items": [
          {
            "concept": {
              "CONCEPT_CLASS_ID": "ATC 3rd",
              "CONCEPT_CODE": "A10B",
              "CONCEPT_ID": 21600744,
              "CONCEPT_NAME": "BLOOD GLUCOSE LOWERING DRUGS, EXCL. INSULINS",
              "DOMAIN_ID": "Drug",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "C",
              "STANDARD_CONCEPT_CAPTION": "Classification",
              "VOCABULARY_ID": "ATC"
            },
            "includeDescendants": true
          }
        ]
      }
    },
    {
      "id": 3,
      "name": "Hemoglobin A1c measurement",
      "expression": {
        "items": [
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "55454-3",
              "CONCEPT_ID": 40758583,
              "CONCEPT_NAME": "Deprecated Hemoglobin A1c in Blood",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "U",
              "INVALID_REASON_CAPTION": "Invalid",
              "STANDARD_CONCEPT": "N",
              "STANDARD_CONCEPT_CAPTION": "Non-Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Procedure",
              "CONCEPT_CODE": "313835008",
              "CONCEPT_ID": 4197971,
              "CONCEPT_NAME": "HbA1c measurement",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "SNOMED"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "74246-0",
              "CONCEPT_ID": 44786901,
              "CONCEPT_NAME": "HEDIS 2014 Value Set - HbA1c Tests",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "D",
              "INVALID_REASON_CAPTION": "Invalid",
              "STANDARD_CONCEPT": "N",
              "STANDARD_CONCEPT_CAPTION": "Non-Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "4548-4",
              "CONCEPT_ID": 3004410,
              "CONCEPT_NAME": "Hemoglobin A1c/Hemoglobin.total in Blood",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "17855-8",
              "CONCEPT_ID": 3007263,
              "CONCEPT_NAME": "Hemoglobin A1c/Hemoglobin.total in Blood by calculation",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "4549-2",
              "CONCEPT_ID": 3003309,
              "CONCEPT_NAME": "Hemoglobin A1c/Hemoglobin.total in Blood by Electrophoresis",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "17856-6",
              "CONCEPT_ID": 3005673,
              "CONCEPT_NAME": "Hemoglobin A1c/Hemoglobin.total in Blood by HPLC",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "59261-8",
              "CONCEPT_ID": 40762352,
              "CONCEPT_NAME": "Hemoglobin A1c/Hemoglobin.total in Blood by IFCC protocol",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "Lab Test",
              "CONCEPT_CODE": "41995-2",
              "CONCEPT_ID": 3034639,
              "CONCEPT_NAME": "Hemoglobin A1c [Mass/volume] in Blood",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "LOINC"
            }
          },
          {
            "concept": {
              "CONCEPT_CLASS_ID": "CPT4",
              "CONCEPT_CODE": "83036",
              "CONCEPT_ID": 2212392,
              "CONCEPT_NAME": "Hemoglobin; glycosylated (A1C)",
              "DOMAIN_ID": "Measurement",
              "INVALID_REASON": "V",
              "INVALID_REASON_CAPTION": "Valid",
              "STANDARD_CONCEPT": "S",
              "STANDARD_CONCEPT_CAPTION": "Standard",
              "VOCABULARY_ID": "CPT4"
            }
          }
        ]
      }
    }
  ],
  "PrimaryCriteria": {
    "CriteriaList": [
      {
        "ConditionOccurrence": {
          "CodesetId": 0,
          "First": true
        }
      },
      {
        "DrugExposure": {
          "CodesetId": 2,
          "First": true
        }
      },
      {
        "Measurement": {
          "CodesetId": 3,
          "First": true,
          "ValueAsNumber": {
            "Value": 6.5,
            "Extent": 20,
            "Op": "bt"
          },
          "Unit": [
            {
              "CONCEPT_CODE": "%",
              "CONCEPT_ID": 8554,
              "CONCEPT_NAME": "percent",
              "DOMAIN_ID": "Unit",
              "INVALID_REASON_CAPTION": "Unknown",
              "STANDARD_CONCEPT_CAPTION": "Unknown",
              "VOCABULARY_ID": "UCUM"
            }
          ]
        }
      }
    ],
    "ObservationWindow": {
      "PriorDays": 1095,
      "PostDays": 0
    },
    "PrimaryCriteriaLimit": {
      "Type": "First"
    }
  },
  "AdditionalCriteria": {
    "Type": "ALL",
    "CriteriaList": [],
    "DemographicCriteriaList": [
      {
        "OccurrenceStartDate": {
          "Value": "2010-01-01",
          "Extent": "2020-01-01",
          "Op": "bt"
        }
      }
    ],
    "Groups": []
  },
  "QualifiedLimit": {
    "Type": "First"
  },
  "ExpressionLimit": {
    "Type": "First"
  },
  "InclusionRules": [
    {
      "name": "Has T2DM diagnosis",
      "expression": {
        "Type": "ALL",
        "CriteriaList": [
          {
            "Criteria": {
              "ConditionOccurrence": {
                "CodesetId": 0
              }
            },
            "StartWindow": {
              "Start": {
                "Days": 0,
                "Coeff": -1
              },
              "End": {
                "Coeff": 1
              },
              "UseEventEnd": false
            },
            "Occurrence": {
              "Type": 2,
              "Count": 1
            }
          }
        ],
        "DemographicCriteriaList": [],
        "Groups": []
      }
    },
    {
      "name": "No history of diabetes",
      "expression": {
        "Type": "ALL",
        "CriteriaList": [
          {
            "Criteria": {
              "Observation": {
                "CodesetId": 1
              }
            },
            "StartWindow": {
              "Start": {
                "Coeff": -1
              },
              "End": {
                "Days": 0,
                "Coeff": 1
              },
              "UseEventEnd": false
            },
            "Occurrence": {
              "Type": 0,
              "Count": 0
            }
          }
        ],
        "DemographicCriteriaList": [],
        "Groups": []
      }
    }
  ],
  "CensoringCriteria": [],
  "CollapseSettings": {
    "CollapseType": "ERA",
    "EraPad": 0
  },
  "CensorWindow": {},
  "cdmVersionRange": ">=5.0.0"
}
